jQuery.sap.registerPreloadedModules({
	"name": ".Component-preload",
	"version": "2.0",
	"modules": {
		"vistex/ui/widgets/Dashboard/Dashboard.js": "jQuery.sap.includeStyleSheet(\"//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css\"),jQuery.sap.includeStyleSheet(\"//fonts.googleapis.com/css?family=Roboto:300,500,700\"),jQuery.sap.includeStyleSheet(\"//fonts.googleapis.com/css?family=Ubuntu:400,700\"),jQuery.sap.registerModulePath(\"ViziDashboard\",vistexConfig.vzuiResourcePath+\"/\"+vistexConfig.dashboardBundleLibraryVersion+\"/\"+vistexConfig.vzrootFolder+\"/ui/widgets/DashboardBundle\"),sap.ui.define([\"sap/ui/core/Control\",vistexConfig.rootFolder+\"/ui/core/commonUtils\",\"ViziDashboard/vizi\"],function(e,h){var t=e.extend(vistexConfig.rootFolder+\".ui.widgets.Dashboard.Dashboard\",{metadata:{properties:{controller:{type:\"object\",defaultValue:null},jsonUrl:{type:\"string\",defaultValue:null},userId:{type:\"string\",defaultValue:null},dashboardId:{type:\"string\",defaultValue:null},fullScreen:{type:\"boolean\",defaultValue:!1},initialTab:{type:\"string\",defaultValue:null},bufferKey:{type:\"string\",defaultValue:null},dashboardBuffer:{type:\"array\",defaultValue:null},filters:{type:\"array\",defaultValue:null},language:{type:\"string\",defaultValue:null},clientId:{type:\"string\",defaultValue:null},modelName:{type:\"string\",defaultValue:null},version:{type:\"string\",defaultValue:null},dictionariesPath:{type:\"string\",defaultValue:null}},events:{renderDashboard:{},onNavigate:{},onFullScreen:{}},aggregations:{_getDashboard:{type:\"sap.ui.core.Control\",multiple:!1,visibility:\"hidden\"},_getFlowBar:{type:\"sap.ui.core.Control\",multiple:!1,visibility:\"hidden\"}}},renderer:function(e,t){e.write(\"<div\"),e.writeControlData(t),e.write(\">\"),e.renderControl(t.getAggregation(\"_getFlowBar\")),e.renderControl(t.getAggregation(\"_getDashboard\")),e.write(\"</div>\")}});return t.prototype.setJsonUrl=function(e){this.setProperty(\"jsonUrl\",e,!0)},t.prototype.setUserId=function(e){this.setProperty(\"userId\",e,!0)},t.prototype.setDashboardId=function(e){this.setProperty(\"dashboardId\",e,!0)},t.prototype.setFullScreen=function(e){this.setProperty(\"fullScreen\",e,!0)},t.prototype.setInitialTab=function(e){this.setProperty(\"initialTab\",e,!0)},t.prototype.setBufferKey=function(e){this.setProperty(\"bufferKey\",e,!0)},t.prototype.setDashboardBuffer=function(e){this.setProperty(\"dashboardBuffer\",e,!0)},t.prototype.setFilters=function(e){this.setProperty(\"filters\",e,!0)},t.prototype.setLanguage=function(e){this.setProperty(\"language\",e,!0)},t.prototype.setClientId=function(e){this.setProperty(\"clientId\",e,!0)},t.prototype.setModelName=function(e){this.setProperty(\"modelName\",e,!0)},t.prototype.setVersion=function(e){this.setProperty(\"version\",e,!0)},t.prototype.setDictionariesPath=function(e){this.setProperty(\"dictionariesPath\",e,!0)},t.prototype.onDashboardInfocusSet=function(){var e=this,t=(this.getJsonUrl(),this.getDashboardId(),this.getController()),r=this.getModelName();t.getModel(r);e.randomClass=Math.floor(100*Math.random()+1)+\"\"+Math.floor(100*Math.random()+1),e.randomClass=e.getDashboardId()+\"-\"+e.randomClass,e.skipRendering=!1;var o=new sap.ui.core.HTML({content:\"<div class='this-is-vizi vizi-darkforce \"+e.randomClass+\"'> </div>;\"});e._fullScreenButton=new sap.m.OverflowToolbarButton({type:sap.m.ButtonType.Transparent,icon:{path:vui5.modelName+\">/FULLSCREEN\",formatter:function(e){return!0===e?\"sap-icon://exit-full-screen\":\"sap-icon://full-screen\"},mode:sap.ui.model.BindingMode.TwoWay},visible:this.getProperty(\"fullScreen\"),press:e.fullScreenDialog.bind(e)});var n=new sap.m.Toolbar({design:sap.m.ToolbarDesign.Solid,visible:this.getProperty(\"fullScreen\"),content:[new sap.m.ToolbarSpacer({}),e._fullScreenButton]});e.setAggregation(\"_getFlowBar\",n),e.setAggregation(\"_getDashboard\",o)},t.prototype.renderDashboard=function(){var t=this,e=this.getController(),r=this.getModelName(),o=e.getModel(r).getProperty(this.getVersion());if(underscoreJS.isEmpty(o)&&(o=\"1\"),\"1\"===o||\"2\"===o){var n=this.getJsonUrl()+this.getDashboardId();t.getDashboardJson(n,function(e){t.updateDashboard(e)})}},t.prototype.getDashboardJson=function(e,t){var r=h.server.xcsrftoken,o={userId:this.getUserId(),language:this.getLanguage(),clientId:this.getClientId(),token:r.toLowerCase()};jQuery.ajax({url:e,contentType:\"json\",dataType:\"json\",type:\"GET\",data:JSON.stringify({}),async:!0,cache:!0,beforeSend:function(e){e.setRequestHeader(\"Authorization\",\"Vizi \"+btoa(JSON.stringify(o)))},success:function(e){\"function\"==typeof t&&t(e)},error:function(e){}})},t.prototype.updateDashboard=function(n){var e,o,i=this,a=this.getController(),d=this.getDashboardId(),t=(this.getFullScreen(),h.server.xcsrftoken),r={userId:this.getUserId(),language:this.getLanguage(),clientId:this.getClientId(),token:t.toLowerCase()},s=this.getModelName(),l=a.getModel(s),u=l.getProperty(this.getDictionariesPath()),c=this.getBufferKey(),f=this.getDashboardBuffer()||[],p=underscoreJS.findWhere(f,{KEY:c});if(p)n=p.STATE,f=underscoreJS.without(f,p),a.getMainModel().setProperty(\"/DSHBD_BUFFER\",f);else{o=l.getProperty(this.getFilters()),e=this.getInitialTab(),underscoreJS.isEmpty(e)||(n.initialTab=e);var g=underscoreJS.uniq(underscoreJS.pluck(o,\"FLTID\"));underscoreJS.each(g,function(e,t){var r=underscoreJS.where(o,{FLTID:e});underscoreJS.each(r,function(t){var r=[];if(underscoreJS.each(t.VALUE,function(e){r.push(e.FVALUE)}),underscoreJS.isEmpty(t.MAPID)){underscoreJS.isArray(n.filters.find(function(e){return e.id===t.FLTID}).members.selected)||(n.filters.find(function(e){return e.id===t.FLTID}).members.selected=[]);var e=n.filters.find(function(e){return e.id===t.FLTID}).members,o=e.fields.findIndex(function(e){return e===t.FTFLD});0==e.selected[o].length?n.filters.find(function(e){return e.id===t.FLTID}).members.selected[o]=r:n.filters.find(function(e){return e.id===t.FLTID}).members.selected[o].push(r)}underscoreJS.isEmpty(t.MAPID)||(underscoreJS.isArray(n.scopes[t.MAPID])?n.scopes[t.MAPID].push(r):n.scopes[t.MAPID]=r)})})}i.json=n,i.dashboard=new Vizi.Dashboard(document.querySelector(\".\"+i.randomClass),n,function(e){},btoa(JSON.stringify(r))),Vizi.Dashboard.dictionary=u,i.dashboard.on(\"ACTION\",function(e,t){var r={},s=[];if(r[vui5.cons.params.dashboardId]=d,r[vui5.cons.params.widgetId]=t.widgetId,r[vui5.cons.params.actionId]=e.id,underscoreJS.each(t.data,function(r,e){var t=underscoreJS.keys(r),o={},n=[];o.ROW_ID=e,underscoreJS.each(t,function(e){var t={};t.FNAME=e,t.FVALUE=r[e].value,n.push(t)}),o.FLDVAL=n,s.push(o)}),i.dashboard){var o=i.getDashboardActiveState();a.dashboardBufferFill(void 0,o)}i.fireOnNavigate({rowData:s,params:r,callBack:function(e){i.dashboard&&i.dashboard.destroy()}})})},t.prototype.fullScreenDialog=function(e){e.getSource();this.fireOnFullScreen({fullScreen:\"sap-icon://full-screen\"===e.getSource().getIcon()})},t.prototype.applyStateOnConfig=function(n,e){return e.filters.forEach(function(e){var r=e.members,o=r.fields.reduce(function(e,t){return e.push(t+\"_\"+r.dataSource),e},[e.id+\"_\"+r.dataSource]),t=n.filters.find(function(t){return o.find(function(e){return t.id===e})});t&&(r.selected=[t.members.selected])}),e},t.prototype.getDashboardActiveState=function(e,t){var r,o=this,n=this.getBufferKey(),s=o.getController().getMainModel(),i=o.getDashboardId();o.dashboard&&(r={KEY:n,STATE:o.dashboard.getState(),JSON:o.json,APTIT:s.getProperty(\"/APTIT\"),DSHBD:i});return r},t});",
		"vistex/ui/widgets/Dashboard/DashboardV2.js": "jQuery.sap.includeStyleSheet(\"//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css\"),jQuery.sap.includeStyleSheet(\"//fonts.googleapis.com/css?family=Roboto:300,500,700\"),jQuery.sap.includeStyleSheet(\"//fonts.googleapis.com/css?family=Ubuntu:400,700\"),jQuery.sap.registerModulePath(\"ViziDashboardBundle\",vistexConfig.vzuiResourcePath+\"/\"+vistexConfig.dashboardBundleLibraryVersion+\"/\"+vistexConfig.vzrootFolder+\"/ui/widgets/DashboardBundle\"),sap.ui.define([\"sap/ui/core/Control\",vistexConfig.rootFolder+\"/ui/core/commonUtils\",\"ViziDashboardBundle/dashboard.bundle\"],function(e,d){var t=e.extend(vistexConfig.rootFolder+\".ui.widgets.Dashboard.DashboardV2\",{metadata:{properties:{controller:{type:\"object\",defaultValue:null},jsonUrl:{type:\"string\",defaultValue:null},userId:{type:\"string\",defaultValue:null},dashboardId:{type:\"string\",defaultValue:null},fullScreen:{type:\"boolean\",defaultValue:!1},language:{type:\"string\",defaultValue:null},clientId:{type:\"string\",defaultValue:null},modelName:{type:\"string\",defaultValue:null},version:{type:\"string\",defaultValue:null},dashboardConfig:{type:\"string\",defaultValue:null},urlPath:{type:\"string\",defaultValue:null},defaultBookMarkPath:{type:\"string\",defaultValue:null}},events:{renderDashboard:{},onFullScreen:{},onBookmarkManage:{}},aggregations:{_getDashboard:{type:\"sap.ui.core.Control\",multiple:!1,visibility:\"hidden\"},_getFlowBar:{type:\"sap.ui.core.Control\",multiple:!1,visibility:\"hidden\"}}},renderer:function(e,t){e.write(\"<div\"),e.writeControlData(t),e.write(\">\"),e.renderControl(t.getAggregation(\"_getFlowBar\")),e.renderControl(t.getAggregation(\"_getDashboard\")),e.write(\"</div>\")}});return t.prototype.setJsonUrl=function(e){this.setProperty(\"jsonUrl\",e,!0)},t.prototype.setUserId=function(e){this.setProperty(\"userId\",e,!0)},t.prototype.setDashboardId=function(e){this.setProperty(\"dashboardId\",e,!0)},t.prototype.setFullScreen=function(e){this.setProperty(\"fullScreen\",e,!0)},t.prototype.setLanguage=function(e){this.setProperty(\"language\",e,!0)},t.prototype.setClientId=function(e){this.setProperty(\"clientId\",e,!0)},t.prototype.setModelName=function(e){this.setProperty(\"modelName\",e,!0)},t.prototype.setVersion=function(e){this.setProperty(\"version\",e,!0)},t.prototype.setDashboardConfig=function(e){this.setProperty(\"dashboardConfig\",e,!0)},t.prototype.setUrlPath=function(e){this.setProperty(\"urlPath\",e,!0)},t.prototype.setDefaultBookMarkPath=function(e){this.setProperty(\"defaultBookMarkPath\",e,!0)},t.prototype.onDashboardInfocusSet=function(){var t=this,e=(this.getJsonUrl(),this.getDashboardId(),this.getController()),o=this.getModelName(),r=e.getModel(o);t.randomClass=Math.floor(100*Math.random()+1)+\"\"+Math.floor(100*Math.random()+1),t.randomClass=t.getDashboardId()+\"-\"+t.randomClass,t.skipRendering=!1;var a=new sap.ui.core.HTML({content:\"<div class='this-is-vizi vizi-darkforce \"+t.randomClass+\"'> </div>;\"}).addEventDelegate({onAfterRendering:function(e){t.skipRendering||\"V2\"!==r.getProperty(t.getVersion())||($(document.getElementsByClassName(t.randomClass)).removeClass(\"this-is-vizi vizi-standalone-mode vizi-darkforce\"),$(document.getElementsByClassName(t.randomClass)).addClass(\"dashboardv2\"),t.skipRendering=!0,t.renderDashboardVersion2())}});t._fullScreenButton=new sap.m.OverflowToolbarButton({type:sap.m.ButtonType.Transparent,icon:{path:vui5.modelName+\">/FULLSCREEN\",formatter:function(e){return!0===e?\"sap-icon://exit-full-screen\":\"sap-icon://full-screen\"},mode:sap.ui.model.BindingMode.TwoWay},visible:this.getProperty(\"fullScreen\"),press:t.fullScreenDialog.bind(t)});var n=new sap.m.Toolbar({design:sap.m.ToolbarDesign.Solid,visible:this.getProperty(\"fullScreen\"),content:[new sap.m.ToolbarSpacer({}),t._fullScreenButton]});t.setAggregation(\"_getFlowBar\",n),t.setAggregation(\"_getDashboard\",a)},t.prototype.renderDashboard=function(){var t=this,e=this.getController(),o=this.getModelName(),r=e.getModel(o).getProperty(this.getVersion());if(underscoreJS.isEmpty(r)&&(r=\"1\"),\"1\"===r||\"2\"===r){var a=this.getJsonUrl()+this.getDashboardId();t.getDashboardJson(a,function(e){t.updateDashboard(e)})}},t.prototype.fullScreenDialog=function(e){e.getSource();this.fireOnFullScreen({fullScreen:\"sap-icon://full-screen\"===e.getSource().getIcon()})},t.prototype.renderDashboardVersion2=function(){var e,t,o,r,a,n,s,i,l=this;e=this.getController(),t=this.getModelName(),r=(o=e.getModel(t)).getProperty(this.getDashboardConfig()),a=o.getProperty(this.getUrlPath()),n={userId:this.getUserId(),language:this.getLanguage(),clientId:this.getClientId(),token:d.server.xcsrftoken.toLowerCase()},s={type:\"BearerToken\",token:btoa(JSON.stringify(n))},underscoreJS.isEmpty(r)||(r=JSON.parse(r)),o.getProperty(l.getDefaultBookMarkPath())&&((i=o.getProperty(l.getDefaultBookMarkPath())).data=JSON.stringify(i.data)),dashboard.init(document.querySelector(\".\"+l.randomClass),l.getDashboardId(),a,r,{auth:s,bookmarkAdapter:l.prepareBookMarkAdapter(),bookmark:i,timeout:1e3*parseInt(l.getModel(\"mainModel\").getProperty(global.vui5.cons.modelPath.sessionInfo+\"/SSTIM\"))}).render()},t.prototype.prepareBookMarkAdapter=function(){var r=this;return{listAll:function(){return r.onBookMarkAction({actionID:\"listAll\"})},get:function(e){return r.onBookMarkAction({bookMarkID:e,actionID:\"get\"})},remove:function(e){return r.onBookMarkAction({bookMarkID:e,actionID:\"remove\"})},save:function(e,t,o){return r.onBookMarkAction({name:e,data:t,shared:o,actionID:\"save\"})},setAsDefault:function(e){return r.onBookMarkAction({bookMarkID:e,actionID:\"setAsDefault\"})},update:function(e,t){return r.onBookMarkAction({bookMarkID:e,data:t.data,actionID:\"update\"})}}},t.prototype.onBookMarkAction=function(o){var e=this,r={},a={};return new Promise(function(t){switch(o.actionID){case\"listAll\":r.EVENT_TYPE=o.actionID;break;case\"get\":case\"remove\":case\"setAsDefault\":r.EVENT_TYPE=o.actionID,r.BOOKMARK_ID=o.bookMarkID;break;case\"save\":r.EVENT_TYPE=o.actionID,a.NAME=o.name,a.DATA=o.data,a.SHARED=o.shared;break;case\"update\":r.EVENT_TYPE=o.actionID,r.BOOKMARK_ID=o.bookMarkID,a.DATA=o.data}e.fireOnBookmarkManage({params:r,data:a,callBack:function(e){e[o.actionID]?(\"get\"===o.actionID&&(e[o.actionID].data=JSON.stringify(e.get.data)),t(e[o.actionID])):t()}})})},t});",
		"vistex/ui/widgets/Dashboard/library.js": "sap.ui.define([vistexConfig.rootFolder+\"/ui/core/global\"],function(global){return sap.ui.getCore().initLibrary({name:vistexConfig.rootFolder+\".ui.widgets.Dashboard\",version:\"1.00\",dependencies:[],types:[],interfaces:[],controls:[vistexConfig.rootFolder+\".ui.widgets.Dashboard.Dashboard\",vistexConfig.rootFolder+\".ui.widgets.Dashboard.DashboardV2\"],elements:[],noLibraryCSS:!0}),global.vui5.ui.controls.Dashboard=eval(vistexConfig.rootFolder+\".ui.widgets.Dashboard.Dashboard\"),global.vui5.ui.controls.DashboardV2=eval(vistexConfig.rootFolder+\".ui.widgets.Dashboard.DashboardV2\"),eval(vistexConfig.rootFolder+\".ui.widgets.Dashboard\")});"
	}
});